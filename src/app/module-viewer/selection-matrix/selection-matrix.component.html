<h3>{{ question }}</h3>

<table class="table matrix" [class.horizontal]="horizontal">
  <tr>
    <td class="empty-corner"><div class="empty-container"></div></td>
    <th *ngFor="let option of options">
      <span class="option-wrapper">{{ option }}</span>
    </th>
  </tr>
  <ng-container *ngFor="let persona of personas; let i=index">
    <tr>
      <td class="riverside-persona">
        <riverside-persona [persona]="persona" [inputs]="inputs"></riverside-persona>
      </td>
      <td class="checkbox-container" *ngFor="let option of options" (click)="!disabled && toggleSelection(i, option, $event)">
        <input type="checkbox" class="checkbox" [disabled]="disabled" (change)="updateTextInput(i, option, $event)" [checked]="(inputs[inputIds.personas[i]].selections$ | async)?.includes(option)" />
      </td>
    </tr>
  </ng-container>
</table>

<!-- <button (click)="horizontal = !horizontal">Rotate</button> -->